{% macro render_table(obj, classes="table") %}
<style>
.table {
  border-collapse: collapse;
  border: 1px solid #999;
  width: 100%;
  font-size: 15px;
  margin-top: 10px;
}
.table th,
.table td {
  border: 1px solid #999;
  text-align: right;
  padding: 8px 12px;
}
.table th {
  font-weight: bold;
  text-align: left;
  background-color: #f7f7f7;
}
.table thead th {
  border-bottom: 2px solid #999;
}
</style>

<table class="{{ classes }}">
  {% if obj is mapping and obj|length == 1 and obj.values()|first is mapping %}
    {% set title = obj.keys()|first %}
    {% set inner = obj.values()|first %}
    <thead>
      <tr>
        <th></th>
        <th>{{ title }}</th>
      </tr>
    </thead>
    <tbody>
      {% for k, v in inner.items() %}
      <tr>
        <th>{{ k }}</th>
        <td>{{ v }}</td>
      </tr>
      {% endfor %}
    </tbody>
  {% else %}
    <thead>
      <tr>
        <th>Key</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      {% for k, v in obj.items() %}
      <tr>
        <th>{{ k }}</th>
        <td>{{ v }}</td>
      </tr>
      {% endfor %}
    </tbody>
  {% endif %}
</table>
{% endmacro %}
